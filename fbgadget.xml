<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="Feed-buster URL builder" />
  <Content type="html"><![CDATA[
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      function generate() {
        pageTracker._trackPageview('/formclick');
        var inputUrl = document.getElementById("inputUrl").value;
        var outputUrl = "http://feed-buster.appspot.com/mediaInjection?inputFeedUrl=" + inputUrl;
        if (document.getElementById("webScrape2").checked) {
          outputUrl += "&webScrape=1"
        }
        if (document.getElementById("getDescription2").checked) {
          outputUrl += "&getDescription=" + document.getElementById("maxDescription").value
        }
        document.getElementById("outputUrl").value = outputUrl;
      }
    </script>
    
    <table name="frm" id="frm">
      <tr>
        <td>
          <b><label for="inputUrl">Your RSS/ATOM feed URL:</label></b>
        </td>
        </tr><tr>
        <td>
          <input style="width:300px" name="inputUrl" id="inputUrl" type="text" value=""/>
        </td>
      </tr>
      <tr>
        <td style="width:640px;" >
          <label for="webScrape1"><b>Scrape media from website</b> (default=No, and no need to change this if you don't know what it does):</label>
        </td>
        </tr><tr>
        <td>
          <label for="webScrape1">No:</label><input name="webScrape" id="webScrape1" type="radio" value="No" checked="checked"/>
          <label for="webScrape2">Yes:</label><input name="webScrape" id="webScrape2" type="radio" value="Yes"/>
        </td>
      </tr>
      <tr>
        <td style="width:640px;" >
          <label style="width:640px;" for="getDescription1"><b>Create description element</b> (default=No, and no need to change this if you don't know what it does):</label>
        </td>
        </tr><tr>
        <td>
          <label for="getDescription1">No:</label><input name="getDescription" id="getDescription1" type="radio" value="No" checked="checked"/>
          <label for="getDescription2">Yes:</label><input name="getDescription" id="getDescription2" type="radio" value="Yes"/>
          <label for="maxDescription">Max. length:</label> <input style="width:100px" name="maxDescription" id="maxDescription" type="text" value=""/>
        </td>
      </tr>
      <tr></tr>
      <tr><td>
        <button style="margin-left: 60px;" name="genBtn" id="genBtn" onclick="generate();">Generate feed-buster URL</button>
      </td>
      </tr>
      <tr></tr>
      <tr>
      <td>
      <b><label for="outputUrl">Feed-buster feed URL:</label></b>
      </td><tr></tr><td>
      <input style="width:300px" name="outputUrl" id="outputUrl" type="text" value="">
      </td>
      </tr>
    </table>
    <div id="wikicontent" style="padding:0 3em 1.2em 0; margin-left:auto; width:640px;"> 
    <p align="justify">Copy/paste the output URL and try the new feed out on the <a href="http://frinedfeed.com/api/feedtest" target="_blank">FriendFeed feedtest page</a>!
    </div>
  ]]></Content>    
</Module>